{% extends "base.html" %}

{% block stylesheets %}
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
{% endblock stylesheets %}

{% block personalscripts %}
    <script>
        $( function() {
            $("#conditionSearch").autocomplete({
                source: '{% url 'emergency:condition_search' %}',
                select: function( event, ui ) {
                    $.ajax({
                      url: '{% url 'emergency:selected_pill' %}',
                      data: { tag: ui.item.value },
                    }).done(function (data) {
                      $('#selected-pills').append(data);
                    });
                }
            });
        });
    </script>
{% endblock personalscripts %}

{% block content %}
    <div class="jumbotron site-banner">
        <h1>
        {% block jumbotron %}
            Web-Med
        {% endblock jumbotron %}
        </h1>
    </div>

    <div class="form form-outer">
        <div class="form-title">
            <h3>
            {% block formtitle %}
                Search emergencies
            {% endblock formtitle %}
            </h3>
        </div>

        {% block filterpanel %}
        <div class="filter-panel">
            <div class="filter-option">
                <label class="filter-label">Type:</label>
                <div class="filter-fieldset">
                    <button class="priority-btn reddish-btn active-red">Priority</button>
                    <button class="priority-btn orange-btn">Non-Priority</button>
                </div>
            </div>
            <div class="filter-option">
                <div class="filter-fieldset" style="margin-right: 25px;">
                    <label class="filter-label">Age:</label>
                    <input type="number" min="0" max="150" name="age" class="filter-field age-field">
                </div>
                <div class="filter-fieldset">
                    <label class="filter-label">Gender:</label>
                    <select class="filter-select">
                        <option value="M">Male</option>
                        <option value="F">Female</option>
                    </select>
                </div>
            </div>
            <div class="filter-option">
                <label class="filter-label">Category:</label>
                <div class="filter-fieldset farthest-apart">
                    <select class="category-btn">
                        <option value="0">None</option>
                        {% for emergencygroup in emergencygroups %}
                        <option value="{{ emergencygroup.id }}">
                            {{ emergencygroup.name }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="filter-option column-filter">
                <div>
                    <label class="filter-label complaint-label">
                        Presenting Complaints:
                    </label>
                    <button class="clear-btn">clear</button>
                </div>
                <div class="complaints-div">
                    <label class="filter-label">Selected</label>
                    <div id="selected-pills">
                    </div>
                </div>
                <div class="complaints-div">
                    <label for="conditionSearch" class="filter-label">Available</label>
                    <div class="search-div" style="display: inline-block;">
                        <input id="conditionSearch">
                    </div>
                    <div id="variety-div">

                    </div>
                </div>
            </div>
        </div>
        {% endblock filterpanel %}
    </div>
{% endblock content %}